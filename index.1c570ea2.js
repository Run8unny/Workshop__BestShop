(()=>{let e=document.querySelector(".burger__menu"),t=document.querySelector("body");e.addEventListener("click",()=>t.classList.toggle("show-menu"))})();const e=document.querySelector(".calc__form"),t=document.querySelector(".calc__summary"),r=new class{constructor(e,t){this.prices={products:.5,orders:.4,package:{basic:0,professional:25,premium:60},accounting:25,terminal:5},this.form={products:e.querySelector("#products"),orders:e.querySelector("#orders"),package:e.querySelector("#package"),accounting:e.querySelector("#accounting"),terminal:e.querySelector("#terminal")},this.summary={list:t.querySelector("ul"),items:t.querySelector("ul").children,total:{container:t.querySelector("#total-price"),price:t.querySelector(".total__price")}}}handleInputs(e){let t=e.currentTarget.id,r=e.currentTarget.value,s=this.prices[t],a=(r*s).toFixed(2);this.updateUISummary(t,`${r} * $ ${s}`,a,function(e,t,s){r<0&&(t.innerHTML=null,s.innerText="Value should be greater than 0"),0===r.length&&e.classList.remove("open")}),this.updateTotalPrice()}updateUISummary(e,t,r,s){let a=this.summary.list.querySelector(`[data-id=${e}]`),i=a.querySelector(".item__calc"),c=a.querySelector(".item__price");a.classList.add("open"),null!==i&&(i.innerText=t),c.innerText=`$${r}`,"function"==typeof s&&s(a,i,c)}handleSelect(e){this.form.package.querySelector(".select__dropdown").classList.toggle("open");let t=void 0!==e.target.dataset.value?e.target.dataset.value:"",r=void 0!==e.target.dataset.value?e.target.innerText:"Choose package";t.length>0&&(this.form.package.dataset.value=t,this.form.package.querySelector(".select__input").innerText=r,this.updateUISummary("package",r,this.prices.package[t])),this.updateTotalPrice()}handleCheckbox(e){let t=e.currentTarget.id,r=e.currentTarget.checked;this.updateUISummary(t,void 0,this.prices[t],function(e){r||e.classList.remove("open")}),this.updateTotalPrice()}handleListeners(){this.form.products.addEventListener("change",this.handleInputs.bind(this)),this.form.products.addEventListener("keyup",this.handleInputs.bind(this)),this.form.orders.addEventListener("change",this.handleInputs.bind(this)),this.form.orders.addEventListener("keyup",this.handleInputs.bind(this)),this.form.package.addEventListener("click",this.handleSelect.bind(this)),this.form.accounting.addEventListener("change",this.handleCheckbox.bind(this)),this.form.terminal.addEventListener("change",this.handleCheckbox.bind(this))}updateTotalPrice(){if(this.summary.list.querySelectorAll(".open").length>0){let e=this.form.products.value<0?0:this.form.products.value*this.prices.products,t=this.form.orders.value<0?0:this.form.orders.value*this.prices.orders,r=0===this.form.package.dataset.value.length?0:this.prices.package[this.form.package.dataset.value],s=this.form.accounting.checked?this.prices.accounting:0,a=this.form.terminal.checked?this.prices.terminal:0;this.summary.total.price.innerText="$"+(e+t+r+s+a),this.summary.total.container.classList.add("open")}else this.summary.total.container.classList.remove("open")}}(e,t);r.handleListeners(),console.log(r);
//# sourceMappingURL=index.1c570ea2.js.map
